#version 330

uniform mat4 model;
uniform mat4 view;
uniform mat4 proj;

in vec4 vpos;
in vec4 vnorm;
in vec2 vtextcoord;

out vec4 fpos;
out vec4 fnormal;
out vec2 ftextcoord;

void main()
{
	mat4 mvp = proj * view * model;
	mat4 invT = inverse(transpose(model));

	fnormal = invT * vnorm;
	fpos = model * vpos;
	ftextcoord = vtextcoord;

	gl_Position = mvp * vpos;
}